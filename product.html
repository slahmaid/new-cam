<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ - Prumysl</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #e6b800;
            --primary-glow: rgba(230, 184, 0, 0.4);
            --dark-bg: #050505;
            --card-bg: rgba(20, 20, 20, 0.6);
            --glass-border: rgba(255, 255, 255, 0.08);
            --text-main: #ffffff;
            --text-muted: #a0a0a0;
            --success: #28a745;
            --whatsapp: #25D366;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
        body { 
            font-family: 'Cairo', sans-serif; 
            background-color: var(--dark-bg); 
            color: var(--text-main); 
            overflow-x: hidden; 
            padding-bottom: 80px;
            line-height: 1.6;
        }
        body::after {
            content: ""; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            pointer-events: none; z-index: 9000; opacity: 0.04;
        }
        a { text-decoration: none; color: inherit; transition: 0.3s; }
        img { max-width: 100%; height: auto; display: block; }

        /* Header */
        .floating-header {
            position: fixed; top: 0; left: 0; right: 0; height: 70px; 
            background: rgba(10, 10, 10, 0.85); backdrop-filter: blur(20px);
            z-index: 1000; display: flex; justify-content: space-between; align-items: center; padding: 0 20px; 
            border-bottom: 1px solid var(--glass-border);
        }
        .logo { font-weight: 900; font-size: 1.4rem; text-transform: uppercase; letter-spacing: 1px; color: #fff; }
        .back-btn { font-weight: 700; font-size: 0.95rem; color: #ccc; display: flex; align-items: center; gap: 8px; transition: 0.3s; }
        .back-btn:hover { color: var(--primary); transform: translateX(-5px); }

        .breadcrumbs { max-width: 1200px; margin: 90px auto 20px; padding: 0 20px; font-size: 0.85rem; color: #666; }
        .breadcrumbs span { color: var(--primary); font-weight: 600; }

        .product-container {
            max-width: 1200px; margin: 0 auto 60px; padding: 0 20px;
            display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 50px; align-items: start;
        }

        /* Gallery */
        .main-img-wrap {
            width: 100%; height: 500px; border-radius: 20px; overflow: hidden;
            border: 1px solid var(--glass-border); margin-bottom: 20px;
            background: rgba(255,255,255,0.03);
            display: flex; align-items: center; justify-content: center; position: relative;
        }
        .main-img { 
            max-width: 90%; max-height: 90%; object-fit: contain; 
            filter: drop-shadow(0 20px 40px rgba(0,0,0,0.5)); transition: transform 0.5s ease; 
        }
        .main-img-wrap:hover .main-img { transform: scale(1.05); }
        
        .thumbnails { display: flex; gap: 15px; overflow-x: auto; padding-bottom: 5px; scrollbar-width: none; }
        .thumb {
            width: 90px; height: 90px; object-fit: contain; border-radius: 12px; cursor: pointer; padding: 5px;
            border: 2px solid var(--glass-border); opacity: 0.6; transition: 0.3s; flex-shrink: 0;
            background: rgba(255,255,255,0.03);
        }
        .thumb:hover, .thumb.active { border-color: var(--primary); opacity: 1; transform: translateY(-2px); }

        /* Info */
        .product-category { color: var(--primary); font-weight: 800; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 2px; display: block; margin-bottom: 5px; opacity: 0.9; }
        .product-title { font-size: 2.4rem; font-weight: 900; margin: 0 0 15px; line-height: 1.2; color: #fff; }
        .reviews-summary { color: #888; font-size: 0.95rem; margin-bottom: 25px; display: flex; align-items: center; gap: 10px; }
        .stars { color: var(--primary); letter-spacing: 2px; }

        /* Offer Selector */
        .offers-container { display: none; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 25px; }
        .offer-option {
            border: 1px solid var(--glass-border); border-radius: 12px; padding: 15px; cursor: pointer;
            text-align: center; transition: 0.3s; background: rgba(30,30,30,0.4); color: #fff;
        }
        .offer-option:hover { border-color: #666; background: rgba(40,40,40,0.6); }
        .offer-option.selected { 
            border-color: var(--primary); background: rgba(230, 184, 0, 0.1); 
            box-shadow: 0 0 20px rgba(230,184,0,0.1); 
            position: relative;
        }
        .offer-price { font-weight: 800; color: var(--primary); display: block; margin-top: 5px; font-size: 1.1rem; }

        .price-box { display: flex; align-items: center; gap: 20px; margin-bottom: 25px; flex-wrap: wrap; }
        .current-price { font-size: 2.5rem; font-weight: 900; color: #fff; text-shadow: 0 0 20px rgba(230,184,0,0.3); }
        .old-price { text-decoration: line-through; color: #666; font-size: 1.4rem; }
        .discount-tag { 
            background: rgba(231, 76, 60, 0.15); color: #e74c3c; padding: 6px 12px; 
            border-radius: 6px; border: 1px solid rgba(231, 76, 60, 0.3); font-weight: 700; font-size: 0.9rem; 
        }

        /* Timer */
        .timer-box {
            background-color: rgba(230, 184, 0, 0.05); color: #fff;
            padding: 15px 20px; border-radius: 12px; margin-bottom: 30px;
            font-weight: 700; display: flex; align-items: center; gap: 15px;
            border: 1px solid rgba(230, 184, 0, 0.2); animation: pulse 2s infinite;
        }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(230, 184, 0, 0.1); } 70% { box-shadow: 0 0 0 10px rgba(230, 184, 0, 0); } 100% { box-shadow: 0 0 0 0 rgba(230, 184, 0, 0); } }
        .countdown-digits { font-family: monospace; font-size: 1.4rem; font-weight: 800; color: var(--primary); margin-right: auto; }

        /* Order Form (Glass) */
        .order-card {
            background: rgba(25, 25, 25, 0.8); backdrop-filter: blur(20px);
            padding: 30px; border-radius: 20px; border: 1px solid var(--glass-border);
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
        }
        .order-header { text-align: center; margin-bottom: 25px; padding-bottom: 20px; border-bottom: 1px dashed #333; }
        .order-header h4 { color: #fff; margin-bottom: 8px; font-size: 1.2rem; }
        .form-input {
            width: 100%; padding: 16px; border: 1px solid #333; border-radius: 10px;
            font-family: inherit; font-size: 1rem; transition: 0.3s; background: #111; color: #fff; margin-bottom: 15px;
        }
        .form-input:focus { border-color: var(--primary); outline: none; box-shadow: 0 0 15px rgba(230,184,0,0.2); }
        
        .submit-btn {
            width: 100%; background: var(--primary); color: #000; padding: 18px;
            font-size: 1.2rem; font-weight: 800; border: none; border-radius: 10px;
            cursor: pointer; transition: 0.3s; box-shadow: 0 10px 30px rgba(230,184,0,0.2);
        }
        .submit-btn:hover { transform: translateY(-3px); box-shadow: 0 20px 40px rgba(230,184,0,0.4); }

        .wa-order-btn {
            display: flex; align-items: center; justify-content: center; gap: 10px;
            width: 100%; padding: 14px; margin-top: 15px;
            background: transparent; color: var(--whatsapp);
            border: 2px solid var(--whatsapp); border-radius: 10px;
            font-weight: 700; cursor: pointer; transition: 0.3s;
        }
        .wa-order-btn:hover { background: rgba(37, 211, 102, 0.1); }
        .wa-order-btn svg { width: 22px; fill: currentColor; }

        /* Tabs */
        .tabs-header { display: flex; border-bottom: 1px solid #333; margin-bottom: 30px; margin-top: 40px; overflow-x: auto; }
        .tab-btn {
            padding: 15px 30px; background: none; border: none; font-family: inherit;
            font-size: 1.1rem; font-weight: 700; color: #666; cursor: pointer;
            border-bottom: 3px solid transparent; transition: 0.3s; white-space: nowrap;
        }
        .tab-btn.active { color: #fff; border-bottom-color: var(--primary); }
        .tab-content { display: none; color: #ccc; line-height: 1.8; animation: fadeIn 0.4s; font-size: 1rem; }
        .tab-content.active { display: block; }
        .specs-table th { width: 40%; background: #111; color: #fff; padding: 15px; text-align: right; border-bottom: 1px solid #222; }
        .specs-table td { padding: 15px; border-bottom: 1px solid #222; text-align: right; color: #aaa; }

        /* Related */
        .related-section { background: #080808; padding: 80px 20px; border-top: 1px solid var(--glass-border); }
        .related-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px; max-width: 1200px; margin: 0 auto; }
        .r-card { background: var(--card-bg); border-radius: 16px; overflow: hidden; border: 1px solid var(--glass-border); transition: 0.3s; }
        .r-card:hover { transform: translateY(-5px); border-color: var(--primary); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .r-img-wrap { width: 100%; height: 200px; background: rgba(255,255,255,0.03); padding: 15px; display: flex; align-items: center; justify-content: center; }
        .r-title { color: #fff; font-weight: 700; padding: 15px 15px 5px; font-size: 1rem; }
        .r-price { color: var(--primary); font-weight: 800; padding: 0 15px 15px; font-size: 1.2rem; }

        /* Mobile Sticky */
        .mobile-sticky-bar {
            display: none; position: fixed; bottom: 0; left: 0; right: 0; background: #0f0f0f;
            padding: 15px; border-top: 1px solid #333; z-index: 999;
            justify-content: space-between; align-items: center; gap: 15px;
            box-shadow: 0 -10px 30px rgba(0,0,0,0.5);
        }
        .m-price { color: #fff; font-weight: 900; font-size: 1.3rem; }
        .m-btn { background: var(--primary); color: #000; padding: 12px; border-radius: 8px; flex-grow: 2; text-align: center; font-weight: 800; font-size: 1.1rem; }
        .m-wa-btn { background: #222; border: 1px solid var(--whatsapp); color: var(--whatsapp); padding: 12px; border-radius: 8px; display: flex; align-items: center; justify-content: center; width: 50px; }
        .m-wa-btn svg { width: 24px; fill: currentColor; }

        @media (max-width: 900px) {
            .product-container { grid-template-columns: 1fr; gap: 30px; }
            .mobile-sticky-bar { display: flex; }
            .related-grid { grid-template-columns: repeat(2, 1fr); gap: 15px; }
            .main-img-wrap { height: 350px; }
            .thumbnails { justify-content: flex-start; }
            .price-box { gap: 15px; }
            .current-price { font-size: 2rem; }
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <header class="floating-header">
        <a href="index.html" class="back-btn">&#8594; Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…ØªØ¬Ø±</a>
        <div class="logo">Prumysl</div>
        <div style="width: 80px;"></div>
    </header>

    <div class="breadcrumbs">
        Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© / ÙƒØ§Ù…ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© / <span id="bread-title">...</span>
    </div>

    <div class="product-container">
        
        <div class="product-gallery">
            <div class="main-img-wrap">
                <img id="main-img" src="" alt="Product" class="main-img">
            </div>
            <div class="thumbnails" id="thumbs-container"></div>
        </div>

        <div class="product-info">
            <span class="product-category">SOLAR CAMERAS</span>
            <h1 id="p-title" class="product-title">...</h1>
            <div class="reviews-summary"><span class="stars">â˜…â˜…â˜…â˜…â˜…</span><span>4.9 (142 ØªÙ‚ÙŠÙŠÙ…)</span></div>
            
            <div id="offers-container" class="offers-container"></div>

            <div class="price-box">
                <span id="p-price" class="current-price">...</span>
                <span id="p-old-price" class="old-price">...</span>
                <span class="discount-tag">ØªÙˆÙÙŠØ± 20%</span>
            </div>

            <div class="timer-box">
                <span>â³ Ø¹Ø±Ø¶ Ù…Ø­Ø¯ÙˆØ¯ ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ:</span>
                <span class="countdown-digits" id="countdown">02:00:00</span>
            </div>

            <p id="p-desc" style="color:#bbb; line-height:1.8; margin-bottom:30px; font-size:1.05rem;">...</p>

            <div class="order-card" id="orderForm">
                <div class="order-header">
                    <h4>Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù† ÙˆØ§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</h4>
                    <p style="font-size:0.9rem; color:#888;">Ø§Ù„ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ ÙˆØ³Ø±ÙŠØ¹ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¯Ù† ğŸ‡²ğŸ‡¦</p>
                </div>
                <form onsubmit="submitOrder(event)">
                    <input type="text" class="form-input" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
                    <input type="text" class="form-input" placeholder="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©" required>
                    <input type="tel" class="form-input" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (06...)" required>
                    <input type="hidden" id="selected-variant" name="variant" value="">
                    <button type="submit" class="submit-btn">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
                </form>
                <a href="#" id="wa-btn-desktop" target="_blank" class="wa-order-btn">
                    <svg viewBox="0 0 32 32"><path d="M16 2C8.269 2 2 8.269 2 16c0 2.485.643 4.821 1.764 6.845L2.1 29.9l7.247-1.62C11.306 29.357 13.585 30 16 30c7.731 0 14-6.269 14-14S23.731 2 16 2zm0 25.867c-2.14 0-4.162-.57-5.918-1.564l-.424-.24-4.398.983 1.01-4.29-.264-.442A11.82 11.82 0 014.133 16c0-6.543 5.324-11.867 11.867-11.867S27.867 9.457 27.867 16 22.543 27.867 16 27.867z"/></svg>
                    Ø§Ø·Ù„Ø¨ Ø¹Ø¨Ø± Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨
                </a>
            </div>
        </div>
    </div>

    <div class="product-container" style="display:block; margin-bottom:40px;">
        <div class="tabs-header">
            <button class="tab-btn active" onclick="switchTab('desc')">Ø§Ù„ÙˆØµÙ Ø§Ù„ÙƒØ§Ù…Ù„</button>
            <button class="tab-btn" onclick="switchTab('specs')">Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©</button>
            <button class="tab-btn" onclick="switchTab('shipping')">Ø§Ù„Ø´Ø­Ù† ÙˆØ§Ù„Ø¶Ù…Ø§Ù†</button>
        </div>
        <div id="tab-desc" class="tab-content active"><p id="full-desc-text">...</p></div>
        <div id="tab-specs" class="tab-content"><table class="specs-table" style="width:100%; border-collapse:collapse;"><tbody id="specs-body"></tbody></table></div>
        <div id="tab-shipping" class="tab-content">
            <p style="margin-bottom:10px;"><strong>ğŸ“¦ Ø§Ù„ØªÙˆØµÙŠÙ„:</strong> 24-48 Ø³Ø§Ø¹Ø© Ø¹Ø¨Ø± Ø£Ù…Ø§Ù†Ø© Ø¥ÙƒØ³Ø¨Ø±ÙŠØ³ Ø£Ùˆ Ø´Ø±ÙƒØ§Øª Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„Ø®Ø§ØµØ©. Ø§Ù„ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ.</p>
            <p><strong>ğŸ›¡ï¸ Ø§Ù„Ø¶Ù…Ø§Ù†:</strong> Ø¶Ù…Ø§Ù† Ø´Ø§Ù…Ù„ Ù„Ù…Ø¯Ø© Ø³Ù†Ø© ÙƒØ§Ù…Ù„Ø©. Ø§Ø³ØªØ¨Ø¯Ø§Ù„ ÙÙˆØ±ÙŠ ÙÙŠ Ø­Ø§Ù„Ø© ÙˆØ¬ÙˆØ¯ Ø£ÙŠ Ø¹ÙŠØ¨ Ù…ØµÙ†Ø¹ÙŠ.</p>
        </div>
    </div>

    <section class="related-section">
        <h2 style="color:#fff; text-align:center; margin-bottom:40px; font-weight:900; font-size:1.8rem;">Ù…Ù†ØªØ¬Ø§Øª Ù‚Ø¯ ØªØ¹Ø¬Ø¨Ùƒ Ø£ÙŠØ¶Ø§Ù‹</h2>
        <div class="related-grid" id="related-grid"></div>
    </section>

    <div class="mobile-sticky-bar">
        <div><div style="font-size:0.8rem; color:#888;">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div><div id="m-price" class="m-price">...</div></div>
        <div style="display:flex; gap:10px; flex-grow:1; justify-content: flex-end;">
            <a href="#" id="wa-btn-mobile" class="m-wa-btn"><svg viewBox="0 0 32 32"><path d="M16 2C8.269 2 2 8.269 2 16c0 2.485.643 4.821 1.764 6.845L2.1 29.9l7.247-1.62C11.306 29.357 13.585 30 16 30c7.731 0 14-6.269 14-14S23.731 2 16 2zm0 25.867c-2.14 0-4.162-.57-5.918-1.564l-.424-.24-4.398.983 1.01-4.29-.264-.442A11.82 11.82 0 014.133 16c0-6.543 5.324-11.867 11.867-11.867S27.867 9.457 27.867 16 22.543 27.867 16 27.867z"/></svg></a>
            <a href="#orderForm" class="m-btn">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</a>
        </div>
    </div>

    <script>
        // --- 1. PRODUCT DATABASE (Exact Paths) ---
        const products = {
            1: { 
                title: "Prumysl Omni-Guard 360Â°", 
                price: "1200 DH", oldPrice: "1500 DH", 
                desc: "ÙƒØ§Ù…ÙŠØ±Ø§ Ø´Ù…Ø³ÙŠØ© 4G Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„Ø¹Ø¯Ø³Ø§Øª PTZØŒ Ø¨Ø¯Ù‚Ø© 15 Ù…ÙŠØºØ§Ø¨ÙƒØ³ÙŠÙ„ØŒ 3 Ø´Ø§Ø´Ø§Øª Ø­ÙŠØ© ÙˆÙ…Ø±Ø§Ù‚Ø¨Ø© 360Â°.", 
                fullDesc: "ÙƒØ§Ù…ÙŠØ±Ø§ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø´Ù…Ø³ÙŠØ© Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ø¨Ø«Ù„Ø§Ø« Ø¹Ø¯Ø³Ø§Øª PTZ Ù…Ø¯Ù…Ø¬Ø© ÙÙŠ Ø¬Ù‡Ø§Ø² ÙˆØ§Ø­Ø¯ØŒ ÙƒÙ„ Ø¹Ø¯Ø³Ø© ØªØªØ­ÙƒÙ… ÙÙŠÙ‡Ø§ Ù…Ù† Ø§Ù„Ù‡Ø§ØªÙØŒ Ø¨Ø¯Ù‚Ù‘Ø© 15 Ù…ÙŠØºØ§Ø¨ÙƒØ³ÙŠÙ„ (3Ã—5MP). ØªØ£ØªÙŠ Ù…Ø¹ Ø¨Ø·Ø§Ø±ÙŠØ© Ø¶Ø®Ù…Ø© 8000mAh ÙˆÙ„ÙˆØ­ÙŠÙ† Ø´Ù…Ø³ÙŠÙŠÙ†.", 
                images: ["img/Prumysl Omni-Guard 360Â°/Prumysl Omni-Guard 360Â°-main.jpg", "img/Prumysl Omni-Guard 360Â°/Prumysl Omni-Guard 360Â°-thumb-2.jpg", "img/Prumysl Omni-Guard 360Â°.jpg"], 
                specs: { "Ø§Ù„Ø¯Ù‚Ø©": "15 MP", "Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©": "8000 mAh", "Ø§Ù„Ø§ØªØµØ§Ù„": "4G / LTE", "Ø§Ù„Ø·Ø§Ù‚Ø©": "16W Solar" } 
            },
            2: { 
                title: "Prumysl Vision 6K Pro", 
                price: "1100 DH", oldPrice: "1350 DH", 
                desc: "ÙƒØ§Ù…ÙŠØ±Ø§ Ø´Ù…Ø³ÙŠØ© Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„Ø¹Ø¯Ø³Ø§Øª 4GØŒ Ø¯Ù‚Ø© 6K ÙˆØ²ÙˆÙˆÙ… Ø±Ù‚Ù…ÙŠ 10X. Ø±Ø¤ÙŠØ© ÙØ§Ø¦Ù‚Ø© Ø§Ù„ÙˆØ¶ÙˆØ­.", 
                fullDesc: "ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ø¨Ù€3 Ø¹Ø¯Ø³Ø§Øª Ùˆ3 Ø´Ø§Ø´Ø§Øª ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚. Ø¯Ù‚Ø© 15 Ù…ÙŠØºØ§Ø¨ÙƒØ³ÙŠÙ„ 6K Ù…Ø¹ Ø²ÙˆÙˆÙ… Ø±Ù‚Ù…ÙŠ 10X Ù„Ø±Ø¤ÙŠØ© Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¨Ø¹ÙŠØ¯Ø©.", 
                images: ["img/Prumysl Vision 6K Pro/Prumysl Vision 6K Pro-main.jpg", "img/Prumysl Vision 6K Pro/Prumysl Vision 6K Pro-thumb-1.jpg", "img/Prumysl Vision 6K Pro/Prumysl Vision 6K Pro-thumb-2.jpg"], 
                specs: { "Ø§Ù„Ø¯Ù‚Ø©": "6K (15MP)", "Ø§Ù„Ø²ÙˆÙˆÙ…": "10X Digital", "Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©": "8000 mAh", "Ø§Ù„Ø¹Ø¯Ø³Ø§Øª": "Triple Lens" } 
            },
            3: { 
                title: "Prumysl Euro-Shield", 
                price: "899 DH", oldPrice: "1100 DH", 
                desc: "Ù†Ø³Ø®Ø© Ø£ÙˆØ±ÙˆØ¨ÙŠØ© Ù…ØªØ·ÙˆØ±Ø©ØŒ Ù„ÙˆØ­ÙŠÙ† Ù„Ù„Ø·Ø§Ù‚Ø© ÙˆØ¨Ø·Ø§Ø±ÙŠØ© Ù…Ø¯Ù…Ø¬Ø©. ØªØµÙ…ÙŠÙ… Ø£Ù†ÙŠÙ‚ Ù„Ù„ÙÙ„Ù„.", 
                fullDesc: "ÙƒØ§Ù…ÙŠØ±Ø§ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø´Ù…Ø³ÙŠØ© Ù…ØªØ·ÙˆØ±Ø© Ø¨Ù„ÙˆØ­ÙŠÙ† Ù„Ù„Ø·Ø§Ù‚Ø© ÙˆØ¨Ø·Ø§Ø±ÙŠØ© Ù…Ø¯Ù…Ø¬Ø©ØŒ Ù…ØµÙ…Ù…Ø© Ø®ØµÙŠØµØ§ Ù„Ø£ØµØ­Ø§Ø¨ Ø§Ù„ÙÙ„Ù„ ÙˆØ§Ù„Ø¶ÙŠØ¹Ø§Øª.", 
                images: ["img/Prumysl Euro-Shield/Prumysl Euro-Shield-main.jpg", "img/Prumysl Euro-Shield/Prumysl Euro-Shield-thumb-1.jpg", "img/Prumysl Euro-Shield/Prumysl Euro-Shield-thumb-2.jpg"], 
                specs: { "Ø§Ù„ØªØµÙ…ÙŠÙ…": "Compact Euro", "Ø§Ù„Ø·Ø§Ù‚Ø©": "Dual Panel", "Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©": "Built-in", "Ø§Ù„Ø§ØªØµØ§Ù„": "4G" } 
            },
            4: { 
                title: "Prumysl Duo 18W", 
                price: "699 DH", oldPrice: "850 DH", 
                desc: "ÙƒØ§Ù…ÙŠØ±Ø§ Ø«Ù†Ø§Ø¦ÙŠØ© Ø§Ù„Ø¹Ø¯Ø³Ø© Ù…Ù†Ø®ÙØ¶Ø© Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§ÙƒØŒ 15MP ÙˆÙ„ÙˆØ­ÙŠÙ† 18W.", 
                fullDesc: "ÙƒØ§Ù…ÙŠØ±Ø§ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø°ÙƒÙŠØ© Ù…Ù†Ø®ÙØ¶Ø© Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø¨Ø§Ù„Ø·Ø§Ù‚Ø©ØŒ Ø¨Ø¯Ù‚Ù‘Ø© 15 Ù…ÙŠØºØ§Ø¨ÙƒØ³ÙŠÙ„ØŒ Ø¨Ø·Ø§Ø±ÙŠØ© 8000mAhØŒ Ù„ÙˆØ­ÙŠÙ† Ø´Ù…Ø³ÙŠÙŠÙ† Ø¨Ù‚Ø¯Ø±Ø© 18W.", 
                images: ["img/Prumysl Duo 18W/Prumysl Duo 18W-main.jpg", "img/Prumysl Duo 18W/Prumysl Duo 18W-thumb-1.jpg", "img/Prumysl Duo 18W/Prumysl Duo 18W-thumb-2.jpg"], 
                specs: { "Ø§Ù„Ø·Ø§Ù‚Ø©": "18W Split Panel", "Ø§Ù„Ù†ÙˆØ¹": "WiFi/4G Options", "Ø§Ù„Ø¯Ù‚Ø©": "15 MP", "Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©": "8000 mAh" } 
            },
            5: { 
                title: "Prumysl Falcon 36X", 
                price: "2800 DH", oldPrice: "3400 DH", 
                desc: "Ø§Ù„ÙˆØ­Ø´ Ø§Ù„ØµÙ†Ø§Ø¹ÙŠ: 24 Ù…ÙŠØºØ§Ø¨ÙƒØ³Ù„ØŒ Ø²ÙˆÙˆÙ… Ø¨ØµØ±ÙŠ 36X ÙˆØ¨Ø·Ø§Ø±ÙŠØ© 12000mAh.", 
                fullDesc: "Ø£Ù‚ÙˆÙ‰ ÙƒØ§Ù…ÙŠØ±Ø§ Ù„Ù„Ù…Ø³Ø§ÙØ§Øª Ø§Ù„Ø¨Ø¹ÙŠØ¯Ø©. Ø²ÙˆÙˆÙ… Ø¨ØµØ±ÙŠ Ø­Ù‚ÙŠÙ‚ÙŠ 36X ÙŠÙ‚Ø±Ø¨ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø§Ù„Ø¨Ø¹ÙŠØ¯Ø© Ø¨ÙˆØ¶ÙˆØ­ ØªØ§Ù….", 
                images: ["img/Prumysl Falcon 36X/Prumysl Falcon 36X-main.jpg", "img/Prumysl Falcon 36X/Prumysl Falcon 36X-thumb-1.jpg", "img/Prumysl Falcon 36X/Prumysl Falcon 36X-thumb-2.jpg"], 
                specs: { "Ø§Ù„Ø²ÙˆÙˆÙ…": "36X Optical", "Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©": "12000 mAh", "Ø§Ù„Ù‡ÙŠÙƒÙ„": "Metal", "Ø§Ù„Ø¯Ù‚Ø©": "24 MP" } 
            },
            'batteries': { 
                title: "Ø¨Ø·Ø§Ø±ÙŠØ§Øª ØµÙ†Ø§Ø¹ÙŠØ© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø´Ø­Ù†", 
                price: "149 DH", oldPrice: "199 DH", 
                desc: "Ø¨Ø·Ø§Ø±ÙŠØ§Øª Ù„ÙŠØ«ÙŠÙˆÙ… Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø© ØªØ¯ÙˆÙ… Ø·ÙˆÙŠÙ„Ø§Ù‹.", 
                fullDesc: "Ø¨Ø·Ø§Ø±ÙŠØ§Øª Ù„ÙŠØ«ÙŠÙˆÙ… Ø£ÙŠÙˆÙ† Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø´Ø­Ù†ØŒ Ù…ØµÙ…Ù…Ø© Ø®ØµÙŠØµØ§Ù‹ Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ØªÙŠ ØªØ³ØªÙ‡Ù„Ùƒ Ø·Ø§Ù‚Ø© Ø¹Ø§Ù„ÙŠØ© Ù…Ø«Ù„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§Øª Ø§Ù„Ø´Ù…Ø³ÙŠØ©.", 
                images: ["img/OFFER-1.jpg", "img/OFFER-2.jpg", "img/Rechargeable-batteries.png"], 
                specs: { "Ø§Ù„Ù†ÙˆØ¹": "Lithium Ion", "Ø§Ù„Ø³Ø¹Ø©": "5100 mWh", "Ø§Ù„Ù…Ù†ÙØ°": "USB Type-C Charging" }, 
                offers: [
                    {title:"2 Ù‚Ø·Ø¹ (2 Pieces)", price:"149 DH", oldPrice:"199 DH", img:"img/OFFER-1.jpg"}, 
                    {title:"4 Ù‚Ø·Ø¹ (4 Pieces)", price:"249 DH", oldPrice:"350 DH", img:"img/OFFER-2.jpg"}
                ] 
            }
        };

        const params = new URLSearchParams(window.location.search);
        let pid = params.get('id') || 1;
        let p = products[pid];

        if(p) {
            document.title = p.title + " | Prumysl";
            document.getElementById('p-title').innerText = p.title;
            document.getElementById('bread-title').innerText = p.title;
            document.getElementById('p-desc').innerText = p.desc;
            document.getElementById('full-desc-text').innerText = p.fullDesc;
            
            // Link WhatsApp
            const waLink = `https://wa.me/212600000000?text=${encodeURIComponent("Ø³Ù„Ø§Ù…ØŒ Ø£Ù†Ø§ Ù…Ù‡ØªÙ… Ø¨Ù€ " + p.title)}`;
            document.getElementById('wa-btn-desktop').href = waLink;
            document.getElementById('wa-btn-mobile').href = waLink;

            // Offers Logic
            const offersDiv = document.getElementById('offers-container');
            if(p.offers) {
                offersDiv.style.display = 'grid';
                p.offers.forEach((offer, i) => {
                    offersDiv.innerHTML += `<div class="offer-option ${i===0?'selected':''}" onclick="selectOffer(this, '${offer.price}', '${offer.oldPrice}', '${offer.img}', '${offer.title}')">
                        <span>${offer.title}</span><span class="offer-price">${offer.price}</span>
                    </div>`;
                    if(i===0) {
                        updateDisplay(offer.price, offer.oldPrice, offer.img);
                        document.getElementById('selected-variant').value = offer.title;
                    }
                });
            } else {
                updateDisplay(p.price, p.oldPrice, p.images[0]);
            }

            // Specs
            for(const [k,v] of Object.entries(p.specs)) {
                document.getElementById('specs-body').innerHTML += `<tr><th>${k}</th><td>${v}</td></tr>`;
            }

            // Related Products (exclude current)
            let c = 0;
            for(const [k, rp] of Object.entries(products)) {
                if(k != pid && c < 3) {
                    let img = rp.offers ? rp.offers[0].img : rp.images[0];
                    document.getElementById('related-grid').innerHTML += `
                        <div class="r-card">
                            <a href="product.html?id=${k}">
                                <div class="r-img-wrap"><img src="${img}" alt="${rp.title}"></div>
                                <div class="r-title">${rp.title}</div>
                                <div class="r-price">${rp.price}</div>
                            </a>
                        </div>`;
                    c++;
                }
            }

            // Thumbs
            if(p.images && p.images.length > 0 && !p.offers) {
                p.images.forEach((img, idx) => {
                    document.getElementById('thumbs-container').innerHTML += 
                        `<img src="${img}" class="thumb ${idx===0?'active':''}" onclick="changeImg(this, '${img}')">`;
                });
            }
        }

        function updateDisplay(price, old, img) {
            document.getElementById('p-price').innerText = price;
            document.getElementById('m-price').innerText = price;
            document.getElementById('p-old-price').innerText = old;
            document.getElementById('main-img').src = img;
        }

        function selectOffer(el, price, old, img, title) {
            document.querySelectorAll('.offer-option').forEach(d => d.classList.remove('selected'));
            el.classList.add('selected');
            updateDisplay(price, old, img);
            document.getElementById('selected-variant').value = title;
        }

        function changeImg(el, src) {
            document.querySelectorAll('.thumb').forEach(t => t.classList.remove('active'));
            el.classList.add('active');
            document.getElementById('main-img').src = src;
        }

        function switchTab(t) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById('tab-'+t).classList.add('active');
        }

        function submitOrder(e) { 
            e.preventDefault(); 
            const btn = e.target.querySelector('button');
            const originalText = btn.innerText;
            btn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";
            setTimeout(() => {
                alert("Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ! ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­. Ø³Ù†ØªØµÙ„ Ø¨Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ù„Ù„ØªØ£ÙƒÙŠØ¯."); 
                btn.innerText = originalText;
                e.target.reset();
            }, 1500);
        }
        
        // Countdown
        setInterval(() => {
            const d = new Date();
            const s = (2*60*60) - ((d.getHours()*3600 + d.getMinutes()*60 + d.getSeconds()) % (2*60*60));
            const h = Math.floor(s/3600), m = Math.floor((s%3600)/60), sec = s%60;
            document.getElementById('countdown').innerText = `${h}:${m<10?'0'+m:m}:${sec<10?'0'+sec:sec}`;
        }, 1000);
    </script>
</body>
</html>